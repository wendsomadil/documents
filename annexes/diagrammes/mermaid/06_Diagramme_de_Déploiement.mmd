graph TB
    subgraph Internet["ğŸŒ INTERNET"]
        USER[ğŸ‘¥ Utilisateurs]
    end
    
    subgraph GCP["â˜ï¸ GOOGLE CLOUD PLATFORM - VPC"]
        subgraph PublicSubnet["ğŸ”“ Public Subnet"]
            LB[âš–ï¸ Cloud Load Balancer<br/>SSL/TLS Termination]
            CDN[ğŸš€ Cloud CDN<br/>Assets Statiques]
        end
        
        subgraph PrivateSubnet["ğŸ”’ Private Subnet"]
            subgraph GKE["ğŸ³ Google Kubernetes Engine"]
                NGINX[ğŸ”§ NGINX Ingress<br/>Reverse Proxy]
                
                subgraph Pods["ğŸ“¦ Application Pods"]
                    BACKEND1[ğŸ–¥ï¸ Backend Pod 1<br/>FastAPI]
                    BACKEND2[ğŸ–¥ï¸ Backend Pod 2<br/>FastAPI]
                    BACKEND3[ğŸ–¥ï¸ Backend Pod 3<br/>FastAPI]
                end
                
                HPA[ğŸ“Š Horizontal Pod<br/>Autoscaler]
            end
            
            REDIS[(ğŸ”´ Redis Memorystore<br/>Cache Session)]
        end
        
        subgraph ManagedServices["ğŸ› ï¸ Services GÃ©rÃ©s"]
            MONGO[(ğŸƒ MongoDB Atlas M10<br/>Multi-AZ Replica)]
            STORAGE[ğŸ“ Cloud Storage<br/>Audio + Fichiers]
            SECRET[ğŸ” Secret Manager<br/>API Keys]
        end
        
        subgraph Monitoring["ğŸ“¡ Monitoring"]
            PROM[ğŸ“ˆ Prometheus]
            GRAF[ğŸ“Š Grafana]
            ALERT[ğŸš¨ Cloud Monitoring<br/>Alertes]
        end
    end
    
    subgraph External["ğŸŒ Services Externes"]
        GEMINI[ğŸ¤– Gemini AI API]
        STT[ğŸ¤ Google Cloud<br/>Speech-to-Text]
        TTS[ğŸ”Š Google Cloud<br/>Text-to-Speech]
    end
    
    USER --> LB
    USER --> CDN
    LB --> NGINX
    CDN --> STORAGE
    NGINX --> BACKEND1
    NGINX --> BACKEND2
    NGINX --> BACKEND3
    
    BACKEND1 --> REDIS
    BACKEND2 --> REDIS
    BACKEND3 --> REDIS
    
    BACKEND1 --> MONGO
    BACKEND2 --> MONGO
    BACKEND3 --> MONGO
    
    BACKEND1 --> STORAGE
    BACKEND2 --> STORAGE
    BACKEND3 --> STORAGE
    
    BACKEND1 --> SECRET
    BACKEND2 --> SECRET
    BACKEND3 --> SECRET
    
    BACKEND1 --> GEMINI
    BACKEND1 --> STT
    BACKEND1 --> TTS
    
    HPA -.->|Auto-scale| Pods
    
    BACKEND1 --> PROM
    PROM --> GRAF
    PROM --> ALERT
    
    style USER fill:#FFE5B4
    style LB fill:#C8E6C9
    style GKE fill:#E3F2FD
    style MONGO fill:#A5D6A7
    style GEMINI fill:#FFCDD2
    style PROM fill:#FFF9C4
    